/*! uppie v1.1.4 | (c) silverwind | BSD license */
!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():e.Uppie=n()}("undefined"!=typeof self?self:this,(function(){"use strict";return function(){var n={name:"files[]"};return function(i,t,a){"function"==typeof t?(a=t,t=n):(t||(t={}),t.name||(t.name=n.name)),i instanceof NodeList?[].slice.call(i).forEach((function(n){e(n,t,a)})):e(i,t,a)}};function e(e,a,o){if(e.tagName&&"input"===e.tagName.toLowerCase()&&"file"===e.type)e.addEventListener("change",(function(e){var t=e.target;t.files&&t.files.length?i(t,a,o.bind(null,e)):"getFilesAndDirectories"in t?n(t,a,o.bind(null,e)):o(e)}));else{var r=function(e){e.preventDefault()};e.addEventListener("dragover",r),e.addEventListener("dragenter",r),e.addEventListener("drop",(function(e){e.preventDefault();var r=e.dataTransfer;r.items&&r.items.length&&"webkitGetAsEntry"in r.items[0]&&r.items[0].webkitGetAsEntry()?function(e,n,i){var a=new FormData,o=[],r=[];function l(e,i,r){i||(i=e.name),t(e,0,0,(function(e){var t=[];e.forEach((function(e){t.push(new Promise((function(t){e.isFile?e.file((function(e){var r=i+"/"+e.name;a.append(n.name,e,r),o.push(r),t()}),t.bind()):l(e,i+"/"+e.name,t)})))})),Promise.all(t).then(r.bind())}))}[].slice.call(e).forEach((function(e){(e=e.webkitGetAsEntry())&&r.push(new Promise((function(i){e.isFile?e.file((function(e){a.append(n.name,e,e.name),o.push(e.name),i()}),i.bind()):e.isDirectory&&l(e,null,i)})))})),Promise.all(r).then(i.bind(null,a,o))}(r.items,a,o.bind(null,e)):"getFilesAndDirectories"in r?n(r,a,o.bind(null,e)):r.files?i(r,a,o.bind(null,e)):o(e)}))}}function n(e,n,i){var t=new FormData,a=[],o=function(e,i,r){var l=[];e.forEach((function(e){l.push(new Promise((function(r){if("getFilesAndDirectories"in e)e.getFilesAndDirectories().then((function(n){o(n,e.path+"/",r)}));else{if(e.name){var l=(i+e.name).replace(/^[/\\]/,"");t.append(n.name,e,l),a.push(l)}r()}})))})),Promise.all(l).then(r)};e.getFilesAndDirectories().then((function(e){new Promise((function(n){o(e,"/",n)})).then(i.bind(null,t,a))}))}function i(e,n,i){var t=new FormData,a=[];[].slice.call(e.files).forEach((function(e){t.append(n.name,e,e.webkitRelativePath||e.name),a.push(e.webkitRelativePath||e.name)})),i(t,a)}function t(e,n,i,a){var o=n||e.createReader();o.readEntries((function(n){var r=i?i.concat(n):n;n.length?setTimeout(t.bind(null,e,o,r,a),0):a(r)}))}}));